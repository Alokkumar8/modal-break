@import 'assets/imports.styl'
@import 'css-assets/normalize.styl'

@import 'css-assets/general'
@import 'css-assets/blocks'
@import 'css-assets/layouts'
@import 'css-assets/effects'
@import 'css-assets/icons'
@import 'css-assets/grid'

use('assets/nesting-tree-traversal.js')

c-black = #222
c-grey  = #CECECE
BR = 6*PX

body
  font-family OpenSans, -moz-use-system-font
  background transparent url('i/pattern.svg') repeat left top
  
.launch-button
  font-size 16px
  color white
  background-color #4ACAD9
  box-shadow 0 0 0 32*PX white
  border-radius 30*PX
  text-align center
  width = 200*PX
  width width
  height = 54*PX
  height      height
  line-height height
  font-size 1.8*gs 
  font-weight 600
  letter-spacing 2*PX
  position absolute
  overflow hidden
  display block
  
  left 50%
  top 50%
  margin-left -(width/2) 
  margin-top  -(height/2) 
  
  &:hover
    opacity .9
    cursor pointer
    {root()}__glare
      right -35%
      transition all .4s linear
  &:active
    opacity 1
  &__glare
    position absolute
    width 45px
    height 200%
    transform rotate(25deg)
    background-color rgba(255,255,255,.5)
    top -50%
    right 120%
    &:after
      content ''
      display none
      position absolute
      width 20px
      height 100%
      background inherit
      right -15px
      top 0

button, .button
  border 0
  width 100%
  display block
  height 4*gs
  border-radius BR
  font-size 16*PX
  color white
  background c-black
  letter-spacing PX
  outline none
  &:hover
    cursor pointer
    opacity .9
  &--grey
    background c-grey

modalHeight = 45*gs
modalWidth  = 48*gs
.modal-holder
  // transform rotate(5deg)
  // transform-origin 90% 5%
  position absolute
  width  modalWidth
  height modalHeight
  z-index 1
  nw 50%
  margin-left -(modalWidth/2) 
  margin-top  -(modalHeight/2)
  .svg-overlay
    position absolute
    nw 0
    rect 100%
  .break-parts
    rect 100%
    opacity 0
    z-index 0
  .modal
    position absolute
    z-index 1
  .effect
    // width 2*PX
    // height 450*PX
    position absolute
    top -12.2*gs
    left 2*PX
    z-index 3
    display none

.effect
  // hl deeppink
  &__circle
    position absolute
    left  40*gs
    top   10*gs
    width  10*gs
    height 10*gs
    backface-visibility hidden
    // hl green
  &__line
    backface-visibility hidden
    position absolute
    height 900*PX
    width 4*PX
    left 44.5*gs + 4*PX
    top  15*gs + 0*PX
    transform-origin 50% 0
    &--1
      transform rotate(45deg)
    &--2
      transform rotate(-45deg)
    &--3
      transform rotate(-135deg)
    &--4
      transform rotate(-225deg)

.modal
  background rgba(#fff,.98)
  border-radius: 7*PX
  rect 100%
  color c-black
  text-align  center
  letter-spacing PX
  overflow hidden
  &__close
    position absolute
    ne 2*gs
    display inline-block
    &:before
      content ''
      position absolute
      rect 300%
      nw   -100%
      // hl hotpink
    &:hover
      opacity .75
      cursor pointer
    .icon
      rect 16*PX
      fill c-black
      stroke c-black
  &__header
    font-size 24*PX
    margin-top 8*gs
  &__description
    font-size 14*PX
    color c-grey
    margin-top 4*gs
    margin-bottom 4*gs 
  &__section
    width 35*gs
    margin-top 2*gs
    fly()
    &:last-of-type
      margin-top 3*gs

.input-with-label
  text-align left
  position relative
  &__input
    height 4*gs
    width 100%
    border 2*PX solid c-black
    border-radius BR
    background transparent
    padding 0 gs
    letter-spacing PX
    font-size 14*PX
    color c-black
    font-family OpenSans
    // line-height 4*gs
    &:hover
      background rgba(c-black, .01)
    &:not(:focus):not(.is-keep-focus).is-fill
      & + {root()}__label
        display none
    &:focus, &.is-keep-focus
      outline none
      background rgba(c-black, .01)
      & + {root()}__label
        top - 1.4*gs
        left 0
        background c-black
        padding .2*gs .7*gs .4*gs
        font-size gs
        border-top-left-radius  4*PX
        border-top-right-radius 4*PX
        color white
        letter-spacing PX
        .input-with-label__label__corner
          display block
  &__label
    font-size 14*PX
    display block
    position absolute
    color c-grey
    top  1.3*gs
    left gs
    cursor text
    user-select none
    &__corner
      display none
      position absolute
      left 0
      bottom -4*PX
      rect 0
      border 4*PX solid transparent
      border-left-color c-black

.modal-overlay
  rect 100%
  position absolute
  overflow hidden
  nw 0
  background rgba(c-black,.75)

.svg-overlay
  backface-visibility hidden
  &--2
    transform-origin 96% 2%
  &--3
    transform-origin 97% 6%
  svg
    rect 100%
    nw 0
    position absolute




